<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>8 Function Basics | Modern R in a Corporate Environment</title>
  <meta name="description" content="This is an original course for RADARS">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="8 Function Basics | Modern R in a Corporate Environment" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is an original course for RADARS" />
  <meta name="github-repo" content="DavisBrian/corporater" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 Function Basics | Modern R in a Corporate Environment" />
  
  <meta name="twitter:description" content="This is an original course for RADARS" />
  

<meta name="author" content="Brian Davis">


<meta name="date" content="2019-01-15">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="strings.html">
<link rel="next" href="r-markdown.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css\style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Modern R in a Corporate Environment</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="part"><span><b>I Preamble</b></span></li>
<li class="chapter" data-level="1" data-path="preamble-intro.html"><a href="preamble-intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="preamble-intro.html"><a href="preamble-intro.html#course-philosophy"><i class="fa fa-check"></i><b>1.1</b> Course Philosophy</a><ul>
<li class="chapter" data-level="1.1.1" data-path="preamble-intro.html"><a href="preamble-intro.html#reproducible-research-approach"><i class="fa fa-check"></i><b>1.1.1</b> Reproducible Research Approach</a></li>
<li class="chapter" data-level="1.1.2" data-path="preamble-intro.html"><a href="preamble-intro.html#fda-validation"><i class="fa fa-check"></i><b>1.1.2</b> FDA Validation</a></li>
<li class="chapter" data-level="1.1.3" data-path="preamble-intro.html"><a href="preamble-intro.html#the-sas-myth"><i class="fa fa-check"></i><b>1.1.3</b> The SAS Myth</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="preamble-intro.html"><a href="preamble-intro.html#prerequisites"><i class="fa fa-check"></i><b>1.2</b> Prerequisites</a></li>
<li class="chapter" data-level="1.3" data-path="preamble-intro.html"><a href="preamble-intro.html#content"><i class="fa fa-check"></i><b>1.3</b> Content</a></li>
<li class="chapter" data-level="1.4" data-path="preamble-intro.html"><a href="preamble-intro.html#structure"><i class="fa fa-check"></i><b>1.4</b> Structure</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="good-practices.html"><a href="good-practices.html"><i class="fa fa-check"></i><b>2</b> Good practices</a><ul>
<li class="chapter" data-level="2.1" data-path="good-practices.html"><a href="good-practices.html#coding-style"><i class="fa fa-check"></i><b>2.1</b> Coding style</a><ul>
<li class="chapter" data-level="2.1.1" data-path="good-practices.html"><a href="good-practices.html#comments"><i class="fa fa-check"></i><b>2.1.1</b> Comments</a></li>
<li class="chapter" data-level="2.1.2" data-path="good-practices.html"><a href="good-practices.html#naming"><i class="fa fa-check"></i><b>2.1.2</b> Naming</a></li>
<li class="chapter" data-level="2.1.3" data-path="good-practices.html"><a href="good-practices.html#spacing"><i class="fa fa-check"></i><b>2.1.3</b> Spacing</a></li>
<li class="chapter" data-level="2.1.4" data-path="good-practices.html"><a href="good-practices.html#indenting"><i class="fa fa-check"></i><b>2.1.4</b> Indenting</a></li>
<li class="chapter" data-level="2.1.5" data-path="good-practices.html"><a href="good-practices.html#long-lines"><i class="fa fa-check"></i><b>2.1.5</b> Long lines</a></li>
<li class="chapter" data-level="2.1.6" data-path="good-practices.html"><a href="good-practices.html#other"><i class="fa fa-check"></i><b>2.1.6</b> Other</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="good-practices.html"><a href="good-practices.html#coding-practices"><i class="fa fa-check"></i><b>2.2</b> Coding practices</a><ul>
<li class="chapter" data-level="2.2.1" data-path="good-practices.html"><a href="good-practices.html#variables"><i class="fa fa-check"></i><b>2.2.1</b> Variables</a></li>
<li class="chapter" data-level="2.2.2" data-path="good-practices.html"><a href="good-practices.html#rule-of-threedry"><i class="fa fa-check"></i><b>2.2.2</b> <em>Rule of Three</em></a></li>
<li class="chapter" data-level="2.2.3" data-path="good-practices.html"><a href="good-practices.html#path-names"><i class="fa fa-check"></i><b>2.2.3</b> Path names</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="good-practices.html"><a href="good-practices.html#rstudio"><i class="fa fa-check"></i><b>2.3</b> RStudio</a></li>
<li class="chapter" data-level="2.4" data-path="good-practices.html"><a href="good-practices.html#getting-help"><i class="fa fa-check"></i><b>2.4</b> Getting help</a><ul>
<li class="chapter" data-level="2.4.1" data-path="good-practices.html"><a href="good-practices.html#help-yourself-learn-how-to-debug"><i class="fa fa-check"></i><b>2.4.1</b> Help yourself, learn how to debug</a></li>
<li class="chapter" data-level="2.4.2" data-path="good-practices.html"><a href="good-practices.html#external-help"><i class="fa fa-check"></i><b>2.4.2</b> External help</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="good-practices.html"><a href="good-practices.html#keeping-up-to-date"><i class="fa fa-check"></i><b>2.5</b> Keeping up to date</a></li>
<li class="chapter" data-level="2.6" data-path="good-practices.html"><a href="good-practices.html#reading-for-next-class"><i class="fa fa-check"></i><b>2.6</b> Reading For Next Class</a></li>
<li class="chapter" data-level="2.7" data-path="good-practices.html"><a href="good-practices.html#exercises"><i class="fa fa-check"></i><b>2.7</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>II Base R Basics</b></span></li>
<li class="chapter" data-level="3" data-path="baser-rbasics.html"><a href="baser-rbasics.html"><i class="fa fa-check"></i><b>3</b> R Basics</a><ul>
<li class="chapter" data-level="3.1" data-path="baser-rbasics.html"><a href="baser-rbasics.html#assignment-operators"><i class="fa fa-check"></i><b>3.1</b> Assignment Operators</a></li>
<li class="chapter" data-level="3.2" data-path="baser-rbasics.html"><a href="baser-rbasics.html#naming-rules"><i class="fa fa-check"></i><b>3.2</b> Naming Rules</a></li>
<li class="chapter" data-level="3.3" data-path="baser-rbasics.html"><a href="baser-rbasics.html#objects"><i class="fa fa-check"></i><b>3.3</b> Objects</a><ul>
<li class="chapter" data-level="3.3.1" data-path="baser-rbasics.html"><a href="baser-rbasics.html#vector"><i class="fa fa-check"></i><b>3.3.1</b> Vector</a></li>
<li class="chapter" data-level="3.3.2" data-path="baser-rbasics.html"><a href="baser-rbasics.html#atomic-vectors"><i class="fa fa-check"></i><b>3.3.2</b> Atomic Vectors</a></li>
<li class="chapter" data-level="3.3.3" data-path="baser-rbasics.html"><a href="baser-rbasics.html#matrix"><i class="fa fa-check"></i><b>3.3.3</b> Matrix</a></li>
<li class="chapter" data-level="3.3.4" data-path="baser-rbasics.html"><a href="baser-rbasics.html#list"><i class="fa fa-check"></i><b>3.3.4</b> List</a></li>
<li class="chapter" data-level="3.3.5" data-path="baser-rbasics.html"><a href="baser-rbasics.html#data-frame"><i class="fa fa-check"></i><b>3.3.5</b> Data frame</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="baser-rbasics.html"><a href="baser-rbasics.html#comparision"><i class="fa fa-check"></i><b>3.4</b> Comparision</a></li>
<li class="chapter" data-level="3.5" data-path="baser-rbasics.html"><a href="baser-rbasics.html#logical-and-sets"><i class="fa fa-check"></i><b>3.5</b> Logical and sets</a></li>
<li class="chapter" data-level="3.6" data-path="baser-rbasics.html"><a href="baser-rbasics.html#control-structures"><i class="fa fa-check"></i><b>3.6</b> Control Structures</a><ul>
<li class="chapter" data-level="3.6.1" data-path="baser-rbasics.html"><a href="baser-rbasics.html#if-else"><i class="fa fa-check"></i><b>3.6.1</b> <code>if</code>-<code>else</code></a></li>
<li class="chapter" data-level="3.6.2" data-path="baser-rbasics.html"><a href="baser-rbasics.html#for-loops"><i class="fa fa-check"></i><b>3.6.2</b> <code>for</code> Loops</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="baser-rbasics.html"><a href="baser-rbasics.html#vectorization-recycling"><i class="fa fa-check"></i><b>3.7</b> Vectorization &amp; Recycling</a><ul>
<li class="chapter" data-level="3.7.1" data-path="baser-rbasics.html"><a href="baser-rbasics.html#example"><i class="fa fa-check"></i><b>3.7.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="baser-rbasics.html"><a href="baser-rbasics.html#reading-for-next-class-1"><i class="fa fa-check"></i><b>3.8</b> Reading For Next Class</a></li>
<li class="chapter" data-level="3.9" data-path="baser-rbasics.html"><a href="baser-rbasics.html#exercises-1"><i class="fa fa-check"></i><b>3.9</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>III Tidyverse</b></span></li>
<li class="chapter" data-level="4" data-path="data-import-export.html"><a href="data-import-export.html"><i class="fa fa-check"></i><b>4</b> Data Import &amp; Export</a><ul>
<li class="chapter" data-level="4.1" data-path="data-import-export.html"><a href="data-import-export.html#text-files"><i class="fa fa-check"></i><b>4.1</b> Text Files</a><ul>
<li class="chapter" data-level="4.1.1" data-path="data-import-export.html"><a href="data-import-export.html#readr"><i class="fa fa-check"></i><b>4.1.1</b> readr</a></li>
<li class="chapter" data-level="4.1.2" data-path="data-import-export.html"><a href="data-import-export.html#base-r"><i class="fa fa-check"></i><b>4.1.2</b> base R</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-import-export.html"><a href="data-import-export.html#sas-files"><i class="fa fa-check"></i><b>4.2</b> SAS Files</a></li>
<li class="chapter" data-level="4.3" data-path="data-import-export.html"><a href="data-import-export.html#excel"><i class="fa fa-check"></i><b>4.3</b> Excel</a></li>
<li class="chapter" data-level="4.4" data-path="data-import-export.html"><a href="data-import-export.html#databases"><i class="fa fa-check"></i><b>4.4</b> Databases</a></li>
<li class="chapter" data-level="4.5" data-path="data-import-export.html"><a href="data-import-export.html#reading-for-next-class-2"><i class="fa fa-check"></i><b>4.5</b> Reading For Next Class</a></li>
<li class="chapter" data-level="4.6" data-path="data-import-export.html"><a href="data-import-export.html#exercises-2"><i class="fa fa-check"></i><b>4.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>5</b> Data Transformation</a><ul>
<li class="chapter" data-level="5.1" data-path="data-transformation.html"><a href="data-transformation.html#tibbles"><i class="fa fa-check"></i><b>5.1</b> Tibbles</a></li>
<li class="chapter" data-level="5.2" data-path="data-transformation.html"><a href="data-transformation.html#filter-rows-with-filter"><i class="fa fa-check"></i><b>5.2</b> Filter rows with <code>filter()</code></a></li>
<li class="chapter" data-level="5.3" data-path="data-transformation.html"><a href="data-transformation.html#arrange-rows-with-arrange"><i class="fa fa-check"></i><b>5.3</b> Arrange rows with <code>arrange()</code></a></li>
<li class="chapter" data-level="5.4" data-path="data-transformation.html"><a href="data-transformation.html#select-columns-with-select"><i class="fa fa-check"></i><b>5.4</b> Select columns with <code>select()</code></a></li>
<li class="chapter" data-level="5.5" data-path="data-transformation.html"><a href="data-transformation.html#add-new-variables-with-mutate"><i class="fa fa-check"></i><b>5.5</b> Add new variables with <code>mutate()</code></a></li>
<li class="chapter" data-level="5.6" data-path="data-transformation.html"><a href="data-transformation.html#pipes"><i class="fa fa-check"></i><b>5.6</b> Pipes</a></li>
<li class="chapter" data-level="5.7" data-path="data-transformation.html"><a href="data-transformation.html#grouped-summaries-with-summarise"><i class="fa fa-check"></i><b>5.7</b> Grouped summaries with <code>summarise()</code></a></li>
<li class="chapter" data-level="5.8" data-path="data-transformation.html"><a href="data-transformation.html#grouped-mutates"><i class="fa fa-check"></i><b>5.8</b> Grouped mutates</a></li>
<li class="chapter" data-level="5.9" data-path="data-transformation.html"><a href="data-transformation.html#reading-for-next-class-3"><i class="fa fa-check"></i><b>5.9</b> Reading For Next Class</a></li>
<li class="chapter" data-level="5.10" data-path="data-transformation.html"><a href="data-transformation.html#exercises-3"><i class="fa fa-check"></i><b>5.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>6</b> Tidy Data</a><ul>
<li class="chapter" data-level="6.1" data-path="tidy-data.html"><a href="tidy-data.html#tidy-data-1"><i class="fa fa-check"></i><b>6.1</b> Tidy data</a></li>
<li class="chapter" data-level="6.2" data-path="tidy-data.html"><a href="tidy-data.html#example-1"><i class="fa fa-check"></i><b>6.2</b> Example</a></li>
<li class="chapter" data-level="6.3" data-path="tidy-data.html"><a href="tidy-data.html#spreading-and-gathering"><i class="fa fa-check"></i><b>6.3</b> Spreading and gathering</a><ul>
<li class="chapter" data-level="6.3.1" data-path="tidy-data.html"><a href="tidy-data.html#gathering"><i class="fa fa-check"></i><b>6.3.1</b> Gathering</a></li>
<li class="chapter" data-level="6.3.2" data-path="tidy-data.html"><a href="tidy-data.html#spreading"><i class="fa fa-check"></i><b>6.3.2</b> Spreading</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="tidy-data.html"><a href="tidy-data.html#separating-and-uniting"><i class="fa fa-check"></i><b>6.4</b> Separating and uniting</a><ul>
<li class="chapter" data-level="6.4.1" data-path="tidy-data.html"><a href="tidy-data.html#separate"><i class="fa fa-check"></i><b>6.4.1</b> Separate</a></li>
<li class="chapter" data-level="6.4.2" data-path="tidy-data.html"><a href="tidy-data.html#unite"><i class="fa fa-check"></i><b>6.4.2</b> Unite</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="tidy-data.html"><a href="tidy-data.html#missing-values"><i class="fa fa-check"></i><b>6.5</b> Missing values</a></li>
<li class="chapter" data-level="6.6" data-path="tidy-data.html"><a href="tidy-data.html#non-tidy-data"><i class="fa fa-check"></i><b>6.6</b> Non-tidy data</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>7</b> Strings</a><ul>
<li class="chapter" data-level="7.1" data-path="strings.html"><a href="strings.html#basics"><i class="fa fa-check"></i><b>7.1</b> Basics</a><ul>
<li class="chapter" data-level="7.1.1" data-path="strings.html"><a href="strings.html#helpful-basic-string-functions"><i class="fa fa-check"></i><b>7.1.1</b> Helpful Basic String Functions</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="strings.html"><a href="strings.html#regular-expressions"><i class="fa fa-check"></i><b>7.2</b> Regular Expressions</a><ul>
<li class="chapter" data-level="7.2.1" data-path="strings.html"><a href="strings.html#basic-matches"><i class="fa fa-check"></i><b>7.2.1</b> Basic Matches</a></li>
<li class="chapter" data-level="7.2.2" data-path="strings.html"><a href="strings.html#special-characters"><i class="fa fa-check"></i><b>7.2.2</b> Special Characters</a></li>
<li class="chapter" data-level="7.2.3" data-path="strings.html"><a href="strings.html#character-classes-and-alternatives"><i class="fa fa-check"></i><b>7.2.3</b> Character Classes and Alternatives</a></li>
<li class="chapter" data-level="7.2.4" data-path="strings.html"><a href="strings.html#repetition"><i class="fa fa-check"></i><b>7.2.4</b> Repetition</a></li>
<li class="chapter" data-level="7.2.5" data-path="strings.html"><a href="strings.html#grouping"><i class="fa fa-check"></i><b>7.2.5</b> Grouping</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="strings.html"><a href="strings.html#helpful-string-functions"><i class="fa fa-check"></i><b>7.3</b> Helpful String Functions</a><ul>
<li class="chapter" data-level="7.3.1" data-path="strings.html"><a href="strings.html#detect-matches"><i class="fa fa-check"></i><b>7.3.1</b> Detect Matches</a></li>
<li class="chapter" data-level="7.3.2" data-path="strings.html"><a href="strings.html#extract-matches"><i class="fa fa-check"></i><b>7.3.2</b> Extract Matches</a></li>
<li class="chapter" data-level="7.3.3" data-path="strings.html"><a href="strings.html#replacing-matches"><i class="fa fa-check"></i><b>7.3.3</b> Replacing Matches</a></li>
<li class="chapter" data-level="7.3.4" data-path="strings.html"><a href="strings.html#other-string-functions"><i class="fa fa-check"></i><b>7.3.4</b> Other String Functions</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="strings.html"><a href="strings.html#exercises-4"><i class="fa fa-check"></i><b>7.4</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>IV Beyond Basics</b></span></li>
<li class="chapter" data-level="8" data-path="function-basics.html"><a href="function-basics.html"><i class="fa fa-check"></i><b>8</b> Function Basics</a><ul>
<li class="chapter" data-level="8.1" data-path="function-basics.html"><a href="function-basics.html#introduction-to-functions"><i class="fa fa-check"></i><b>8.1</b> Introduction to Functions</a><ul>
<li class="chapter" data-level="8.1.1" data-path="function-basics.html"><a href="function-basics.html#your-first-function"><i class="fa fa-check"></i><b>8.1.1</b> Your First Function</a></li>
<li class="chapter" data-level="8.1.2" data-path="function-basics.html"><a href="function-basics.html#lazy-evaluation"><i class="fa fa-check"></i><b>8.1.2</b> Lazy Evaluation</a></li>
<li class="chapter" data-level="8.1.3" data-path="function-basics.html"><a href="function-basics.html#the-dot-dot-dot-...-argument"><i class="fa fa-check"></i><b>8.1.3</b> The Dot-dot-dot (<code>...</code>) Argument</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="function-basics.html"><a href="function-basics.html#environments-scoping"><i class="fa fa-check"></i><b>8.2</b> Environments &amp; Scoping</a></li>
<li class="chapter" data-level="8.3" data-path="function-basics.html"><a href="function-basics.html#first-class-objects"><i class="fa fa-check"></i><b>8.3</b> “First class objects”</a></li>
<li class="chapter" data-level="8.4" data-path="function-basics.html"><a href="function-basics.html#exercises-5"><i class="fa fa-check"></i><b>8.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>9</b> R Markdown</a><ul>
<li class="chapter" data-level="9.1" data-path="r-markdown.html"><a href="r-markdown.html#introduction"><i class="fa fa-check"></i><b>9.1</b> Introduction</a><ul>
<li class="chapter" data-level="9.1.1" data-path="r-markdown.html"><a href="r-markdown.html#code-languages"><i class="fa fa-check"></i><b>9.1.1</b> Code languages</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="r-markdown.html"><a href="r-markdown.html#markdown-basics"><i class="fa fa-check"></i><b>9.2</b> Markdown Basics</a><ul>
<li class="chapter" data-level="9.2.1" data-path="r-markdown.html"><a href="r-markdown.html#headers"><i class="fa fa-check"></i><b>9.2.1</b> Headers</a></li>
<li class="chapter" data-level="9.2.2" data-path="r-markdown.html"><a href="r-markdown.html#paragraph-breaks-and-forced-line-breaks"><i class="fa fa-check"></i><b>9.2.2</b> Paragraph Breaks and Forced Line Breaks</a></li>
<li class="chapter" data-level="9.2.3" data-path="r-markdown.html"><a href="r-markdown.html#italics-and-boldface"><i class="fa fa-check"></i><b>9.2.3</b> Italics and Boldface</a></li>
<li class="chapter" data-level="9.2.4" data-path="r-markdown.html"><a href="r-markdown.html#bullet-points"><i class="fa fa-check"></i><b>9.2.4</b> Bullet Points</a></li>
<li class="chapter" data-level="9.2.5" data-path="r-markdown.html"><a href="r-markdown.html#numbered-lists"><i class="fa fa-check"></i><b>9.2.5</b> Numbered Lists</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="r-markdown.html"><a href="r-markdown.html#math"><i class="fa fa-check"></i><b>9.3</b> Math</a></li>
<li class="chapter" data-level="9.4" data-path="r-markdown.html"><a href="r-markdown.html#code-chunks"><i class="fa fa-check"></i><b>9.4</b> Code Chunks</a><ul>
<li class="chapter" data-level="9.4.1" data-path="r-markdown.html"><a href="r-markdown.html#chunk-names"><i class="fa fa-check"></i><b>9.4.1</b> Chunk Names</a></li>
<li class="chapter" data-level="9.4.2" data-path="r-markdown.html"><a href="r-markdown.html#chunk-options"><i class="fa fa-check"></i><b>9.4.2</b> Chunk Options</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="r-markdown.html"><a href="r-markdown.html#inline-code"><i class="fa fa-check"></i><b>9.5</b> Inline Code</a></li>
<li class="chapter" data-level="9.6" data-path="r-markdown.html"><a href="r-markdown.html#plots"><i class="fa fa-check"></i><b>9.6</b> Plots</a></li>
<li class="chapter" data-level="9.7" data-path="r-markdown.html"><a href="r-markdown.html#tables"><i class="fa fa-check"></i><b>9.7</b> Tables</a></li>
<li class="chapter" data-level="9.8" data-path="r-markdown.html"><a href="r-markdown.html#yaml"><i class="fa fa-check"></i><b>9.8</b> YAML</a><ul>
<li class="chapter" data-level="9.8.1" data-path="r-markdown.html"><a href="r-markdown.html#table-of-contents"><i class="fa fa-check"></i><b>9.8.1</b> Table of Contents</a></li>
<li class="chapter" data-level="9.8.2" data-path="r-markdown.html"><a href="r-markdown.html#parameterized-reports"><i class="fa fa-check"></i><b>9.8.2</b> Parameterized reports</a></li>
<li class="chapter" data-level="9.8.3" data-path="r-markdown.html"><a href="r-markdown.html#output-types"><i class="fa fa-check"></i><b>9.8.3</b> Output Types</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Appendix</b></span></li>
<li class="chapter" data-level="10" data-path="appendix-resources.html"><a href="appendix-resources.html"><i class="fa fa-check"></i><b>10</b> Appendix A</a><ul>
<li class="chapter" data-level="10.1" data-path="appendix-resources.html"><a href="appendix-resources.html#e-books"><i class="fa fa-check"></i><b>10.1</b> E-Books</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Modern R in a Corporate Environment</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="function-basics" class="section level1">
<h1><span class="header-section-number">8</span> Function Basics</h1>
<blockquote>
<p>To understand computations in R, two slogans are helpful:<br />
- Everything that exists is an object.<br />
- Everything that happens is a function call.</p>
<p>– John Chambers</p>
</blockquote>
<div id="introduction-to-functions" class="section level2">
<h2><span class="header-section-number">8.1</span> Introduction to Functions</h2>
<p>Functions are an central part of robust R programming and we will spend a significant amount of time writing functions. Think of functions in the <a href="https://en.wikipedia.org/wiki/Function_(mathematics)">mathematical sense</a> will make the properties much more apparent than any other framework.</p>
<ul>
<li>Functions are a means of <strong>abstraction</strong>. A concept/computation is encapsulated/isolated from the rest with a function.</li>
<li>Functions should <strong>do one thing</strong>, and do it well (compute, or plot, or save, … not all in one go).</li>
<li><strong>Side effects</strong>: your functions should not have any (unless, of course, that is the main point of that function - plotting, write to disk, …). Functions shouldn’t make any changes in any environment. The only return their output.</li>
<li><strong>Do not use global variables</strong>. Everything the function needs is being passed as an argument. Function must be <strong>self-contained</strong>.</li>
<li>Function streamline code and process</li>
</ul>
<p>Advice from the <a href="http://www.burns-stat.com/pages/Tutor/R_inferno.pdf">R Inferno</a>:</p>
<p>Make your functions as simple as possible. Simple has many advantages:</p>
<ul>
<li>Simple functions are likely to be human efficient: they will be easy to understand and to modify.</li>
<li>Simple functions are likely to be computer efficient.</li>
<li>Simple functions are less likely to be buggy, and bugs will be easier to fix.</li>
<li>(Perhaps ironically) simple functions may be more general—thinking about the heart of the matter often broadens the application.</li>
</ul>
<p>Functions can be</p>
<ol style="list-style-type: decimal">
<li>Correct.</li>
<li>An error occurs that is clearly identified.</li>
<li>An obscure error occurs.</li>
<li>An incorrect value is returned.</li>
</ol>
<p>We like <strong>category 1</strong>. <strong>Category 2</strong> is the right behavior if the inputs do not make sense, but not if the inputs are sensible. <strong>Category 3</strong> is an unpleasant place for your users, and possibly for you if the users have access to you. <strong>Category 4</strong> is by far the worst place to be - the user has no reason to believe that anything is wrong. Steer clear of category 4.</p>
<div class="rmdimportant">
<p>
Software testing is important, but, in part because it is frustrating and boring, many of us avoid it. ‘testthat’ is a testing framework for R that is easy learn and use, and integrates with your existing ‘workflow’.
</p>
</div>
<div id="your-first-function" class="section level3">
<h3><span class="header-section-number">8.1.1</span> Your First Function</h3>
<p>All R functions have three parts:</p>
<ul>
<li><p>the <code>body()</code>, the code inside the function.</p></li>
<li><p>the <code>formals()</code>, the list of arguments which controls how you can call the function.</p></li>
<li><p>the <code>environment()</code>, the “map” of the location of the function’s variables.</p></li>
</ul>
<p>When you print a function in R, it shows you these three important components. If the environment isn’t displayed, it means that the function was created in the global environment.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myadd &lt;-<span class="st"> </span><span class="cf">function</span>(x, y) {
  <span class="kw">message</span>(<span class="kw">paste0</span>(<span class="st">&quot;x = &quot;</span>, x, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>))
  <span class="kw">message</span>(<span class="kw">paste0</span>(<span class="st">&quot;y = &quot;</span>, y, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>))
  x <span class="op">+</span><span class="st"> </span>y
}</code></pre></div>
<ul>
<li>The body of the function is everything between the <code>{ }</code>. Note this does the computation <strong>AND</strong> returns the result.</li>
<li><code>x</code> and <code>y</code> are the arguments to the function.</li>
<li>the environment this function lives in is the global environment. (We’ll discuss environments more in the next section.)</li>
</ul>
<p>When calling a function you can pass the parameters <strong>in order</strong>, <strong>by name</strong>, or a combination.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">myadd</span>(<span class="dv">1</span>, <span class="dv">3</span>)            <span class="co"># arguments by position</span>
<span class="co">#&gt; x = 1</span>
<span class="co">#&gt; y = 3</span>
<span class="co">#&gt; [1] 4</span>
<span class="kw">myadd</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> <span class="dv">3</span>)    <span class="co"># arguments by name</span>
<span class="co">#&gt; x = 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; y = 3</span>
<span class="co">#&gt; [1] 4</span>
<span class="kw">myadd</span>(<span class="dt">y =</span> <span class="dv">3</span>, <span class="dt">x =</span> <span class="dv">1</span>)    <span class="co"># name order doesn&#39;t matter</span>
<span class="co">#&gt; x = 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; y = 3</span>
<span class="co">#&gt; [1] 4</span>
<span class="kw">myadd</span>(<span class="dt">y =</span> <span class="dv">3</span>, <span class="dv">1</span>)        <span class="co"># combination</span>
<span class="co">#&gt; x = 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; y = 3</span>
<span class="co">#&gt; [1] 4</span></code></pre></div>

<div class="rmdtip">
Even though it’s legal, I don’t recommend messing around with the order of the arguments too much, since it can lead to some confusion. Convention is to pass arguments in the order the function defines them, and to use the arguments names if the function takes more than 2 or 3 arguments.
</div>

<p>You can also specify default values for your arguments. Default values <em>should</em> be the values most often used. <code>rnorm</code> uses the default of <code>mean = 0</code> and <code>sd = 1</code>. We usually want to sample from the standard normal distribution, but we are not forced to.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myadd2 &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">x =</span> <span class="dv">3</span>, <span class="dt">y =</span> <span class="dv">0</span>){
  <span class="kw">cat</span>(<span class="kw">paste0</span>(<span class="st">&quot;x = &quot;</span>, x, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>))
  <span class="kw">cat</span>(<span class="kw">paste0</span>(<span class="st">&quot;y = &quot;</span>, y, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>))
  x <span class="op">+</span><span class="st"> </span>y
}
<span class="kw">myadd2</span>()              <span class="co"># use the defaults</span>
<span class="co">#&gt; x = 3</span>
<span class="co">#&gt; y = 0</span>
<span class="co">#&gt; [1] 3</span>
<span class="kw">myadd2</span>(<span class="dt">x =</span> <span class="dv">1</span>)
<span class="co">#&gt; x = 1</span>
<span class="co">#&gt; y = 0</span>
<span class="co">#&gt; [1] 1</span>
<span class="kw">myadd2</span>(<span class="dt">y =</span> <span class="dv">1</span>)
<span class="co">#&gt; x = 3</span>
<span class="co">#&gt; y = 1</span>
<span class="co">#&gt; [1] 4</span>
<span class="kw">myadd2</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> <span class="dv">1</span>)
<span class="co">#&gt; x = 1</span>
<span class="co">#&gt; y = 1</span>
<span class="co">#&gt; [1] 2</span></code></pre></div>
<p>By default the last line of the function is returned. Thus, there is no reason to explicitly call <code>return</code>, unless you are returning from the function early. Inside functions use <code>stop</code> to return error messages, <code>warning</code> to return warning messages, and <code>message</code> to print a message to the console.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">f &lt;-<span class="st"> </span><span class="cf">function</span>(age) {
  <span class="cf">if</span> (age <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span>) {
    <span class="kw">stop</span>(<span class="st">&quot;age must be a positive number&quot;</span>)
  }
  
  <span class="cf">if</span> (age <span class="op">&lt;</span><span class="st"> </span><span class="dv">18</span>) {
    <span class="kw">warning</span>(<span class="st">&quot;Check your data.  We only care about adults.&quot;</span>)
  }
  
  <span class="kw">message</span>(<span class="kw">paste0</span>(<span class="st">&quot;Your person is &quot;</span>, age, <span class="st">&quot; years old&quot;</span>))
}

<span class="kw">f</span>(<span class="op">-</span><span class="dv">10</span>)
<span class="co">#&gt; Error in f(-10): age must be a positive number</span>
<span class="kw">f</span>(<span class="dv">10</span>)
<span class="co">#&gt; Warning in f(10): Check your data. We only care about adults.</span>
<span class="co">#&gt; Your person is 10 years old</span>
<span class="kw">f</span>(<span class="dv">30</span>)
<span class="co">#&gt; Your person is 30 years old</span></code></pre></div>
</div>
<div id="lazy-evaluation" class="section level3">
<h3><span class="header-section-number">8.1.2</span> Lazy Evaluation</h3>
<p>R is lazy. Arguments to functions are evaluated <em>lazily</em>, that is they are evaluated only as needed in the body of the function.</p>
<p>In this example, the function <code>f()</code> has two arguments: <code>a</code> and <code>b</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">f &lt;-<span class="st"> </span><span class="cf">function</span>(a, b) {
  a<span class="op">^</span><span class="dv">2</span>
} 

<span class="kw">f</span>(<span class="dv">2</span>)     <span class="co"># this works</span>
<span class="co">#&gt; [1] 4</span>
<span class="kw">f</span>(<span class="dv">2</span>, <span class="dv">1</span>)  <span class="co"># this does too</span>
<span class="co">#&gt; [1] 4</span></code></pre></div>
<p>This function never actually uses the argument <code>b</code>, so calling <code>f(2)</code> or <code>f(2, 1)</code> will not produce an error because the 2 gets positionally matched to a. It’s common to write a function that does not use an argument and not notice it simply because R never throws an error.</p>
</div>
<div id="the-dot-dot-dot-...-argument" class="section level3">
<h3><span class="header-section-number">8.1.3</span> The Dot-dot-dot (<code>...</code>) Argument</h3>
<p>There is a special argument in R known as the <code>...</code> argument, which indicate a variable number of arguments that are usually passed on to other functions. The two most common cases for using <code>...</code> in a function are:</p>
<ol style="list-style-type: decimal">
<li>The number of arguments passed to the function cannot be known in advance.</li>
<li>Extending another function and you don’t want to copy the entire argument list of the original function.</li>
</ol>
<p><strong>Number of arguments passed to the function cannot be known in advance.</strong></p>
<p>The <code>...</code> argument is also necessary when the number of arguments passed to the function cannot be known in advance. This is clear in functions like <code>paste()</code>, <code>cat()</code>, and <code>sum()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">args</span>(paste)
<span class="co">#&gt; function (..., sep = &quot; &quot;, collapse = NULL) </span>
<span class="co">#&gt; NULL</span>
<span class="kw">args</span>(cat)
<span class="co">#&gt; function (..., file = &quot;&quot;, sep = &quot; &quot;, fill = FALSE, labels = NULL, </span>
<span class="co">#&gt;     append = FALSE) </span>
<span class="co">#&gt; NULL</span>
<span class="kw">args</span>(sum)
<span class="co">#&gt; function (..., na.rm = FALSE) </span>
<span class="co">#&gt; NULL</span></code></pre></div>
<p>Because both <code>paste()</code> and <code>cat()</code> print out text to the console by combining multiple character vectors together, it is impossible for those functions to know in advance how many character vectors will be passed to the function by the user. So the first argument to either function is <code>...</code>. Similarly with <code>sum()</code>.</p>
<p>One catch with <code>...</code> is that any arguments that appear <em>after</em> <code>...</code> on the argument list must be named explicitly and cannot be partially matched or matched positionally.</p>
<p>Take a look at the arguments to the <code>paste()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">args</span>(paste)
<span class="co">#&gt; function (..., sep = &quot; &quot;, collapse = NULL) </span>
<span class="co">#&gt; NULL</span></code></pre></div>
<p>With the <code>paste()</code> function, the arguments <code>sep</code> and <code>collapse</code> must be named explicitly and in full if the default values are not going to be used.</p>
<p><strong>Extending another function</strong></p>
<p>For example, a custom plotting function may want to make use of the default <code>plot()</code> function along with its entire argument list. The function below changes the default for the <code>type</code> argument to the value <code>type = &quot;l&quot;</code> (the original <code>plot</code> default is <code>type = &quot;p&quot;</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mylineplot &lt;-<span class="st"> </span><span class="cf">function</span>(x, y, ...) {
        <span class="kw">plot</span>(x, y, <span class="dt">type =</span> <span class="st">&quot;l&quot;</span>, ...)         ## Pass &#39;...&#39; to &#39;plot&#39; function
}</code></pre></div>
<p>Sometimes you will combine both in one function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">commas &lt;-<span class="st"> </span><span class="cf">function</span>(...) {
  <span class="kw">paste</span>(..., <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>, <span class="dt">collapse =</span> <span class="st">&quot;, &quot;</span>)
}

<span class="kw">commas</span>(letters[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>])
<span class="co">#&gt; [1] &quot;a, b, c, d, e, f, g, h, i, j&quot;</span></code></pre></div>
</div>
</div>
<div id="environments-scoping" class="section level2">
<h2><span class="header-section-number">8.2</span> Environments &amp; Scoping</h2>
<p>An <strong>environment</strong> is a collection of (symbol, value) pairs, i.e. <code>x &lt;- 10</code>, <code>x</code> is a symbol and <code>10</code> might be its value. Every environment has a parent environment and it is possible for an environment to have multiple “children”. The only environment without a parent is the empty environment.</p>
<p><strong>Scoping</strong> is the set of rules that govern how R looks up the value of a symbol. In the example below, scoping is the set of rules that R applies to go from the symbol <code>x</code> to its value <code>10</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">10</span>
x
<span class="co">#&gt; [1] 10</span></code></pre></div>
<p>R has two types of scoping: lexical scoping, implemented automatically at the language level, and dynamic scoping, used in select functions to save typing during interactive analysis. We discuss lexical scoping here because it is intimately tied to function creation. Dynamic scoping is an advanced topic and is discussed in <a href="http://adv-r.had.co.nz">Advanced R</a>.</p>
<p>How do we associate a value to a free variable? There is a search process that occurs that goes as follows:</p>
<p>If the value of a symbol is not found in the environment in which a function was defined, then the search is continued in the parent environment. The search continues up the sequence of parent environments until we hit the top-level environment; this usually the global environment (workspace) or the namespace of a package. After the top-level environment, the search continues down the search list until we hit the empty environment. If a value for a given symbol cannot be found once the empty environment is arrived at, then an error is thrown.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">0</span>

f &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">x =</span> <span class="op">-</span><span class="dv">1</span>) {
  x &lt;-<span class="st"> </span><span class="dv">1</span>
  y &lt;-<span class="st"> </span><span class="dv">2</span>
  <span class="kw">c</span>(x, y)
}

g &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">x =</span> <span class="op">-</span><span class="dv">1</span>) {
  y &lt;-<span class="st"> </span><span class="dv">1</span>
  <span class="kw">c</span>(x, y)
}

h &lt;-<span class="st"> </span><span class="cf">function</span>() {
  y &lt;-<span class="st"> </span><span class="dv">1</span>
  <span class="kw">c</span>(x, y)
}</code></pre></div>
<p>What do the following return?</p>
<ul>
<li><code>f()</code></li>
<li><code>g()</code></li>
<li><code>h()</code></li>
<li><code>g(h())</code></li>
<li><code>f(g())</code></li>
<li><code>g(f())</code></li>
</ul>
</div>
<div id="first-class-objects" class="section level2">
<h2><span class="header-section-number">8.3</span> “First class objects”</h2>
<p>Functions in R are “first class objects”, which means that they can be treated much like any other R object. Importantly,</p>
<ul>
<li><p>Functions can be passed as arguments to other functions. This is very handy for the various apply functions, like <code>lapply()</code> and <code>sapply()</code>.</p></li>
<li><p>Functions can be nested, so that you can define a function inside of another function</p></li>
</ul>
<p>If you’re familiar with common language like C, these features might appear a bit strange. However, they are really important in R and can be useful for data analysis.</p>
<p>Since functions <strong>ARE</strong> objects you can pass functions as arguments and return functions as results.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_summary &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">funs =</span> <span class="kw">c</span>(mean, sd), ...) {
  <span class="kw">lapply</span>(funs, <span class="cf">function</span>(f) <span class="kw">f</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))
}

y &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>
<span class="kw">my_summary</span>(y)
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] 5.5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; [1] 3.03</span>
<span class="kw">my_summary</span>(y, <span class="kw">c</span>(mean, median, sd, IQR, mad))
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] 5.5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; [1] 5.5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[3]]</span>
<span class="co">#&gt; [1] 3.03</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[4]]</span>
<span class="co">#&gt; [1] 4.5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[5]]</span>
<span class="co">#&gt; [1] 3.71</span></code></pre></div>
<p>Unlike most languages you can define a function within a function and / or return a function. This nested function only <em>lives</em> inside the parent function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">make.power &lt;-<span class="st"> </span><span class="cf">function</span>(n) {
  <span class="co"># [</span><span class="al">TBD</span><span class="co">] checks on n</span>
  pow &lt;-<span class="st"> </span><span class="cf">function</span>(x) {
      <span class="co"># [</span><span class="al">TBD</span><span class="co">] checks on x</span>
    x<span class="op">^</span>n 
  }
  pow
}

<span class="kw">make.power</span>(<span class="dv">4</span>)  <span class="co"># returns a function</span>
<span class="co">#&gt; function(x) {</span>
<span class="co">#&gt;       # [</span><span class="al">TBD</span><span class="co">] checks on x</span>
<span class="co">#&gt;     x^n </span>
<span class="co">#&gt;   }</span>
<span class="co">#&gt; &lt;environment: 0x000000000656c628&gt;</span>
<span class="kw">pow</span>(<span class="dt">x=</span><span class="dv">4</span>)       <span class="co"># Note: `pow` does not exist outside of the `make.power` function</span>
<span class="co">#&gt; Error in pow(x = 4): could not find function &quot;pow&quot;</span>

cube &lt;-<span class="st"> </span><span class="kw">make.power</span>(<span class="dv">3</span>)          
<span class="kw">as.list</span>(<span class="kw">environment</span>(cube))
<span class="co">#&gt; $pow</span>
<span class="co">#&gt; function (x) </span>
<span class="co">#&gt; {</span>
<span class="co">#&gt;     x^n</span>
<span class="co">#&gt; }</span>
<span class="co">#&gt; &lt;bytecode: 0x0000000005e4b4a0&gt;</span>
<span class="co">#&gt; &lt;environment: 0x0000000005f95518&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $n</span>
<span class="co">#&gt; [1] 3</span>
<span class="kw">cube</span>(<span class="dv">2</span>)
<span class="co">#&gt; [1] 8</span>

square &lt;-<span class="st"> </span><span class="kw">make.power</span>(<span class="dv">2</span>)
squareroot &lt;-<span class="st"> </span><span class="kw">make.power</span>(.<span class="dv">5</span>)


<span class="kw">square</span>(<span class="dv">8</span>)
<span class="co">#&gt; [1] 64</span>
<span class="kw">squareroot</span>(<span class="dv">9</span>)
<span class="co">#&gt; [1] 3</span></code></pre></div>
</div>
<div id="exercises-5" class="section level2">
<h2><span class="header-section-number">8.4</span> Exercises</h2>
<ol style="list-style-type: decimal">
<li>Create function that takes a numeric year-quarter (ex 20183) and returns the quarter n-quarters before / after it. Example two quarters previous to 20183 is 20181.</li>
<li>Come up with 5 functions (you don’t have program them) that will operate on your data. (Ex. Create a demographics table)</li>
<li>Create a <code>read_*</code> function that</li>
</ol>
<ul>
<li>reads in the data file</li>
<li>converts all columns to the appropriate data types</li>
<li>“Tidy” your data (if appropriate)<br />
The first argument to your read function should be the file name. Are there additional parameters that are needed? Think beyond the Subscriber Report, what are other things you typically do upon first reading in a data file.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="strings.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-markdown.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/DavisBrian/corporater/edit/master/functions.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["rclassnotes.pdf", "rclassnotes.epub"],
"toc": {
"collapse": "section"
},
"css": "corp.css"
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
