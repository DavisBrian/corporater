<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Modern R in a Corporate Environment</title>
  <meta name="description" content="This is an original course for RADARS">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Modern R in a Corporate Environment" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is an original course for RADARS" />
  <meta name="github-repo" content="DavisBrian/corporater" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Modern R in a Corporate Environment" />
  
  <meta name="twitter:description" content="This is an original course for RADARS" />
  

<meta name="author" content="Brian Davis">


<meta name="date" content="2018-07-19">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="data-import.html">
<link rel="next" href="streetrx.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css\style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Modern R in a Corporate Environment</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="part"><span><b>I Preamble</b></span></li>
<li class="chapter" data-level="1" data-path="preamble-intro.html"><a href="preamble-intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="preamble-intro.html"><a href="preamble-intro.html#course-philosophy"><i class="fa fa-check"></i><b>1.1</b> Course Philosophy</a><ul>
<li class="chapter" data-level="1.1.1" data-path="preamble-intro.html"><a href="preamble-intro.html#reproducible-research-approach"><i class="fa fa-check"></i><b>1.1.1</b> Reproducible Research Approach</a></li>
<li class="chapter" data-level="1.1.2" data-path="preamble-intro.html"><a href="preamble-intro.html#fda-validation"><i class="fa fa-check"></i><b>1.1.2</b> FDA Validation</a></li>
<li class="chapter" data-level="1.1.3" data-path="preamble-intro.html"><a href="preamble-intro.html#the-sas-myth"><i class="fa fa-check"></i><b>1.1.3</b> The SAS Myth</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="preamble-intro.html"><a href="preamble-intro.html#prerequisites"><i class="fa fa-check"></i><b>1.2</b> Prerequisites</a></li>
<li class="chapter" data-level="1.3" data-path="preamble-intro.html"><a href="preamble-intro.html#content"><i class="fa fa-check"></i><b>1.3</b> Content</a></li>
<li class="chapter" data-level="1.4" data-path="preamble-intro.html"><a href="preamble-intro.html#structure"><i class="fa fa-check"></i><b>1.4</b> Structure</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="good-practices.html"><a href="good-practices.html"><i class="fa fa-check"></i><b>2</b> Good practices</a><ul>
<li class="chapter" data-level="2.1" data-path="good-practices.html"><a href="good-practices.html#coding-style"><i class="fa fa-check"></i><b>2.1</b> Coding style</a><ul>
<li class="chapter" data-level="2.1.1" data-path="good-practices.html"><a href="good-practices.html#comments"><i class="fa fa-check"></i><b>2.1.1</b> Comments</a></li>
<li class="chapter" data-level="2.1.2" data-path="good-practices.html"><a href="good-practices.html#naming"><i class="fa fa-check"></i><b>2.1.2</b> Naming</a></li>
<li class="chapter" data-level="2.1.3" data-path="good-practices.html"><a href="good-practices.html#spacing"><i class="fa fa-check"></i><b>2.1.3</b> Spacing</a></li>
<li class="chapter" data-level="2.1.4" data-path="good-practices.html"><a href="good-practices.html#indenting"><i class="fa fa-check"></i><b>2.1.4</b> Indenting</a></li>
<li class="chapter" data-level="2.1.5" data-path="good-practices.html"><a href="good-practices.html#long-lines"><i class="fa fa-check"></i><b>2.1.5</b> Long lines</a></li>
<li class="chapter" data-level="2.1.6" data-path="good-practices.html"><a href="good-practices.html#other"><i class="fa fa-check"></i><b>2.1.6</b> Other</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="good-practices.html"><a href="good-practices.html#coding-practices"><i class="fa fa-check"></i><b>2.2</b> Coding practices</a><ul>
<li class="chapter" data-level="2.2.1" data-path="good-practices.html"><a href="good-practices.html#variables"><i class="fa fa-check"></i><b>2.2.1</b> Variables</a></li>
<li class="chapter" data-level="2.2.2" data-path="good-practices.html"><a href="good-practices.html#rule-of-threedry"><i class="fa fa-check"></i><b>2.2.2</b> <em>Rule of Three</em></a></li>
<li class="chapter" data-level="2.2.3" data-path="good-practices.html"><a href="good-practices.html#path-names"><i class="fa fa-check"></i><b>2.2.3</b> Path names</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="good-practices.html"><a href="good-practices.html#rstudio"><i class="fa fa-check"></i><b>2.3</b> RStudio</a></li>
<li class="chapter" data-level="2.4" data-path="good-practices.html"><a href="good-practices.html#getting-help"><i class="fa fa-check"></i><b>2.4</b> Getting help</a><ul>
<li class="chapter" data-level="2.4.1" data-path="good-practices.html"><a href="good-practices.html#help-yourself-learn-how-to-debug"><i class="fa fa-check"></i><b>2.4.1</b> Help yourself, learn how to debug</a></li>
<li class="chapter" data-level="2.4.2" data-path="good-practices.html"><a href="good-practices.html#external-help"><i class="fa fa-check"></i><b>2.4.2</b> External help</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="good-practices.html"><a href="good-practices.html#keeping-up-to-date"><i class="fa fa-check"></i><b>2.5</b> Keeping up to date</a></li>
<li class="chapter" data-level="2.6" data-path="good-practices.html"><a href="good-practices.html#exercises"><i class="fa fa-check"></i><b>2.6</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>II Base R Basics</b></span></li>
<li class="chapter" data-level="3" data-path="baser-rbasics.html"><a href="baser-rbasics.html"><i class="fa fa-check"></i><b>3</b> R Basics</a><ul>
<li class="chapter" data-level="3.1" data-path="baser-rbasics.html"><a href="baser-rbasics.html#assignment-operators"><i class="fa fa-check"></i><b>3.1</b> Assignment Operators</a></li>
<li class="chapter" data-level="3.2" data-path="baser-rbasics.html"><a href="baser-rbasics.html#objects"><i class="fa fa-check"></i><b>3.2</b> Objects</a><ul>
<li class="chapter" data-level="3.2.1" data-path="baser-rbasics.html"><a href="baser-rbasics.html#vector"><i class="fa fa-check"></i><b>3.2.1</b> Vector</a></li>
<li class="chapter" data-level="3.2.2" data-path="baser-rbasics.html"><a href="baser-rbasics.html#matrix"><i class="fa fa-check"></i><b>3.2.2</b> Matrix</a></li>
<li class="chapter" data-level="3.2.3" data-path="baser-rbasics.html"><a href="baser-rbasics.html#list"><i class="fa fa-check"></i><b>3.2.3</b> List</a></li>
<li class="chapter" data-level="3.2.4" data-path="baser-rbasics.html"><a href="baser-rbasics.html#data-frame"><i class="fa fa-check"></i><b>3.2.4</b> Data frame</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="baser-rbasics.html"><a href="baser-rbasics.html#comparision"><i class="fa fa-check"></i><b>3.3</b> Comparision</a></li>
<li class="chapter" data-level="3.4" data-path="baser-rbasics.html"><a href="baser-rbasics.html#logical-and-sets"><i class="fa fa-check"></i><b>3.4</b> Logical and sets</a></li>
<li class="chapter" data-level="3.5" data-path="baser-rbasics.html"><a href="baser-rbasics.html#control-structures"><i class="fa fa-check"></i><b>3.5</b> Control Structures</a><ul>
<li class="chapter" data-level="3.5.1" data-path="baser-rbasics.html"><a href="baser-rbasics.html#if-else"><i class="fa fa-check"></i><b>3.5.1</b> <code>if</code>-<code>else</code></a></li>
<li class="chapter" data-level="3.5.2" data-path="baser-rbasics.html"><a href="baser-rbasics.html#for-loops"><i class="fa fa-check"></i><b>3.5.2</b> <code>for</code> Loops</a></li>
<li class="chapter" data-level="3.5.3" data-path="baser-rbasics.html"><a href="baser-rbasics.html#while-loops"><i class="fa fa-check"></i><b>3.5.3</b> <code>while</code> Loops</a></li>
<li class="chapter" data-level="3.5.4" data-path="baser-rbasics.html"><a href="baser-rbasics.html#repeat-loops"><i class="fa fa-check"></i><b>3.5.4</b> <code>repeat</code> Loops</a></li>
<li class="chapter" data-level="3.5.5" data-path="baser-rbasics.html"><a href="baser-rbasics.html#next-break"><i class="fa fa-check"></i><b>3.5.5</b> <code>next</code>, <code>break</code></a></li>
<li class="chapter" data-level="3.5.6" data-path="baser-rbasics.html"><a href="baser-rbasics.html#looping"><i class="fa fa-check"></i><b>3.5.6</b> Looping</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="baser-rbasics.html"><a href="baser-rbasics.html#vectorization-recycling"><i class="fa fa-check"></i><b>3.6</b> Vectorization &amp; Recycling</a><ul>
<li class="chapter" data-level="3.6.1" data-path="baser-rbasics.html"><a href="baser-rbasics.html#example"><i class="fa fa-check"></i><b>3.6.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="baser-rbasics.html"><a href="baser-rbasics.html#function-basics"><i class="fa fa-check"></i><b>3.7</b> Function Basics</a><ul>
<li class="chapter" data-level="3.7.1" data-path="baser-rbasics.html"><a href="baser-rbasics.html#your-first-function"><i class="fa fa-check"></i><b>3.7.1</b> Your First Function</a></li>
<li class="chapter" data-level="3.7.2" data-path="baser-rbasics.html"><a href="baser-rbasics.html#lazy-evaluation"><i class="fa fa-check"></i><b>3.7.2</b> Lazy Evaluation</a></li>
<li class="chapter" data-level="3.7.3" data-path="baser-rbasics.html"><a href="baser-rbasics.html#the-...-argument"><i class="fa fa-check"></i><b>3.7.3</b> The <code>...</code> Argument</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="baser-rbasics.html"><a href="baser-rbasics.html#environments-scoping"><i class="fa fa-check"></i><b>3.8</b> Environments &amp; Scoping</a></li>
<li class="chapter" data-level="3.9" data-path="baser-rbasics.html"><a href="baser-rbasics.html#exercises-1"><i class="fa fa-check"></i><b>3.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="base-r-data-structures.html"><a href="base-r-data-structures.html"><i class="fa fa-check"></i><b>4</b> Base R Data Structures</a><ul>
<li class="chapter" data-level="4.1" data-path="base-r-data-structures.html"><a href="base-r-data-structures.html#naming-rules"><i class="fa fa-check"></i><b>4.1</b> Naming Rules</a></li>
<li class="chapter" data-level="4.2" data-path="base-r-data-structures.html"><a href="base-r-data-structures.html#vectors"><i class="fa fa-check"></i><b>4.2</b> Vectors</a><ul>
<li class="chapter" data-level="4.2.1" data-path="base-r-data-structures.html"><a href="base-r-data-structures.html#atomic-vectors"><i class="fa fa-check"></i><b>4.2.1</b> Atomic Vectors</a></li>
<li class="chapter" data-level="4.2.2" data-path="base-r-data-structures.html"><a href="base-r-data-structures.html#lists"><i class="fa fa-check"></i><b>4.2.2</b> Lists</a></li>
<li class="chapter" data-level="4.2.3" data-path="base-r-data-structures.html"><a href="base-r-data-structures.html#null"><i class="fa fa-check"></i><b>4.2.3</b> <code>NULL</code></a></li>
<li class="chapter" data-level="4.2.4" data-path="base-r-data-structures.html"><a href="base-r-data-structures.html#attributes"><i class="fa fa-check"></i><b>4.2.4</b> Attributes</a></li>
<li class="chapter" data-level="4.2.5" data-path="base-r-data-structures.html"><a href="base-r-data-structures.html#factors"><i class="fa fa-check"></i><b>4.2.5</b> Factors</a></li>
<li class="chapter" data-level="4.2.6" data-path="base-r-data-structures.html"><a href="base-r-data-structures.html#matrices-and-arrays"><i class="fa fa-check"></i><b>4.2.6</b> Matrices and arrays</a></li>
<li class="chapter" data-level="4.2.7" data-path="base-r-data-structures.html"><a href="base-r-data-structures.html#data-frames"><i class="fa fa-check"></i><b>4.2.7</b> Data Frames</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="subsetting.html"><a href="subsetting.html"><i class="fa fa-check"></i><b>5</b> Subsetting</a><ul>
<li class="chapter" data-level="5.1" data-path="subsetting.html"><a href="subsetting.html#selecting-multiple-elements"><i class="fa fa-check"></i><b>5.1</b> Selecting multiple elements</a><ul>
<li class="chapter" data-level="5.1.1" data-path="subsetting.html"><a href="subsetting.html#atomic-vectors-1"><i class="fa fa-check"></i><b>5.1.1</b> Atomic vectors</a></li>
<li class="chapter" data-level="5.1.2" data-path="subsetting.html"><a href="subsetting.html#matrices-and-arrays-1"><i class="fa fa-check"></i><b>5.1.2</b> Matrices and Arrays</a></li>
<li class="chapter" data-level="5.1.3" data-path="subsetting.html"><a href="subsetting.html#lists-1"><i class="fa fa-check"></i><b>5.1.3</b> Lists</a></li>
<li class="chapter" data-level="5.1.4" data-path="subsetting.html"><a href="subsetting.html#data-frames-1"><i class="fa fa-check"></i><b>5.1.4</b> Data Frames</a></li>
<li class="chapter" data-level="5.1.5" data-path="subsetting.html"><a href="subsetting.html#preserving-dimensionality"><i class="fa fa-check"></i><b>5.1.5</b> Preserving dimensionality</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="subsetting.html"><a href="subsetting.html#selecting-a-single-elements"><i class="fa fa-check"></i><b>5.2</b> Selecting a single elements</a><ul>
<li class="chapter" data-level="5.2.1" data-path="subsetting.html"><a href="subsetting.html#section"><i class="fa fa-check"></i><b>5.2.1</b> <code>$</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="subsetting.html"><a href="subsetting.html#missingout-of-bounds-indices"><i class="fa fa-check"></i><b>5.2.2</b> Missing/out of bounds indices</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="subsetting.html"><a href="subsetting.html#subassignment"><i class="fa fa-check"></i><b>5.3</b> Subsetting and assignment</a></li>
<li class="chapter" data-level="5.4" data-path="subsetting.html"><a href="subsetting.html#applications"><i class="fa fa-check"></i><b>5.4</b> Applications</a><ul>
<li class="chapter" data-level="5.4.1" data-path="subsetting.html"><a href="subsetting.html#lookup-tables-character-subsetting"><i class="fa fa-check"></i><b>5.4.1</b> Lookup tables (character subsetting)</a></li>
<li class="chapter" data-level="5.4.2" data-path="subsetting.html"><a href="subsetting.html#ordering-integer-subsetting"><i class="fa fa-check"></i><b>5.4.2</b> Ordering (integer subsetting)</a></li>
<li class="chapter" data-level="5.4.3" data-path="subsetting.html"><a href="subsetting.html#selecting-rows-based-on-a-condition-logical-subsetting"><i class="fa fa-check"></i><b>5.4.3</b> Selecting rows based on a condition (logical subsetting)</a></li>
<li class="chapter" data-level="5.4.4" data-path="subsetting.html"><a href="subsetting.html#removing-columns-from-data-frames-character-subsetting"><i class="fa fa-check"></i><b>5.4.4</b> Removing columns from data frames (character subsetting)</a></li>
<li class="chapter" data-level="5.4.5" data-path="subsetting.html"><a href="subsetting.html#random-samplesbootstrap-integer-subsetting"><i class="fa fa-check"></i><b>5.4.5</b> Random samples/bootstrap (integer subsetting)</a></li>
<li class="chapter" data-level="5.4.6" data-path="subsetting.html"><a href="subsetting.html#boolean-algebra-vs.sets-logical-integer-subsetting"><i class="fa fa-check"></i><b>5.4.6</b> Boolean algebra vs. sets (logical &amp; integer subsetting)</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="subsetting.html"><a href="subsetting.html#exercises-2"><i class="fa fa-check"></i><b>5.5</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>III R4DS</b></span></li>
<li class="chapter" data-level="6" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>6</b> Data Visualization</a><ul>
<li class="chapter" data-level="6.1" data-path="data-visualization.html"><a href="data-visualization.html#why-ggplot2"><i class="fa fa-check"></i><b>6.1</b> Why ggplot2</a></li>
<li class="chapter" data-level="6.2" data-path="data-visualization.html"><a href="data-visualization.html#example-1"><i class="fa fa-check"></i><b>6.2</b> Example</a><ul>
<li class="chapter" data-level="6.2.1" data-path="data-visualization.html"><a href="data-visualization.html#data"><i class="fa fa-check"></i><b>6.2.1</b> Data</a></li>
<li class="chapter" data-level="6.2.2" data-path="data-visualization.html"><a href="data-visualization.html#aesthetics"><i class="fa fa-check"></i><b>6.2.2</b> Aesthetics</a></li>
<li class="chapter" data-level="6.2.3" data-path="data-visualization.html"><a href="data-visualization.html#geoms"><i class="fa fa-check"></i><b>6.2.3</b> Geoms</a></li>
<li class="chapter" data-level="6.2.4" data-path="data-visualization.html"><a href="data-visualization.html#scales"><i class="fa fa-check"></i><b>6.2.4</b> Scales</a></li>
<li class="chapter" data-level="6.2.5" data-path="data-visualization.html"><a href="data-visualization.html#themes"><i class="fa fa-check"></i><b>6.2.5</b> Themes</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="data-visualization.html"><a href="data-visualization.html#facets"><i class="fa fa-check"></i><b>6.3</b> Facets</a></li>
<li class="chapter" data-level="6.4" data-path="data-visualization.html"><a href="data-visualization.html#stats"><i class="fa fa-check"></i><b>6.4</b> Stats</a></li>
<li class="chapter" data-level="6.5" data-path="data-visualization.html"><a href="data-visualization.html#saving"><i class="fa fa-check"></i><b>6.5</b> Saving</a></li>
<li class="chapter" data-level="6.6" data-path="data-visualization.html"><a href="data-visualization.html#exercises-3"><i class="fa fa-check"></i><b>6.6</b> Exercises</a></li>
<li class="chapter" data-level="6.7" data-path="data-visualization.html"><a href="data-visualization.html#resources-and-links"><i class="fa fa-check"></i><b>6.7</b> Resources and Links</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>7</b> Data Transformation</a><ul>
<li class="chapter" data-level="7.1" data-path="data-transformation.html"><a href="data-transformation.html#tibbles"><i class="fa fa-check"></i><b>7.1</b> Tibbles</a></li>
<li class="chapter" data-level="7.2" data-path="data-transformation.html"><a href="data-transformation.html#filter-rows-with-filter"><i class="fa fa-check"></i><b>7.2</b> Filter rows with <code>filter()</code></a></li>
<li class="chapter" data-level="7.3" data-path="data-transformation.html"><a href="data-transformation.html#arrange-rows-with-arrange"><i class="fa fa-check"></i><b>7.3</b> Arrange rows with <code>arrange()</code></a></li>
<li class="chapter" data-level="7.4" data-path="data-transformation.html"><a href="data-transformation.html#select-columns-with-select"><i class="fa fa-check"></i><b>7.4</b> Select columns with <code>select()</code></a></li>
<li class="chapter" data-level="7.5" data-path="data-transformation.html"><a href="data-transformation.html#add-new-variables-with-mutate"><i class="fa fa-check"></i><b>7.5</b> Add new variables with <code>mutate()</code></a></li>
<li class="chapter" data-level="7.6" data-path="data-transformation.html"><a href="data-transformation.html#pipes"><i class="fa fa-check"></i><b>7.6</b> Pipes</a><ul>
<li class="chapter" data-level="7.6.1" data-path="data-transformation.html"><a href="data-transformation.html#intermediate-steps"><i class="fa fa-check"></i><b>7.6.1</b> Intermediate steps</a></li>
<li class="chapter" data-level="7.6.2" data-path="data-transformation.html"><a href="data-transformation.html#overwrite-the-original"><i class="fa fa-check"></i><b>7.6.2</b> Overwrite the original</a></li>
<li class="chapter" data-level="7.6.3" data-path="data-transformation.html"><a href="data-transformation.html#function-composition"><i class="fa fa-check"></i><b>7.6.3</b> Function composition</a></li>
<li class="chapter" data-level="7.6.4" data-path="data-transformation.html"><a href="data-transformation.html#use-the-pipe-operator"><i class="fa fa-check"></i><b>7.6.4</b> Use the pipe operator <code>%&gt;%</code></a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="data-transformation.html"><a href="data-transformation.html#grouped-summaries-with-summarise"><i class="fa fa-check"></i><b>7.7</b> Grouped summaries with <code>summarise()</code></a></li>
<li class="chapter" data-level="7.8" data-path="data-transformation.html"><a href="data-transformation.html#grouped-mutates"><i class="fa fa-check"></i><b>7.8</b> Grouped mutates</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-import.html"><a href="data-import.html"><i class="fa fa-check"></i><b>8</b> Data Import</a><ul>
<li class="chapter" data-level="8.1" data-path="data-import.html"><a href="data-import.html#text-files"><i class="fa fa-check"></i><b>8.1</b> Text Files</a><ul>
<li class="chapter" data-level="8.1.1" data-path="data-import.html"><a href="data-import.html#readr"><i class="fa fa-check"></i><b>8.1.1</b> readr</a></li>
<li class="chapter" data-level="8.1.2" data-path="data-import.html"><a href="data-import.html#base-r"><i class="fa fa-check"></i><b>8.1.2</b> base R</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="data-import.html"><a href="data-import.html#sas-files"><i class="fa fa-check"></i><b>8.2</b> SAS Files</a></li>
<li class="chapter" data-level="8.3" data-path="data-import.html"><a href="data-import.html#excel"><i class="fa fa-check"></i><b>8.3</b> Excel</a></li>
<li class="chapter" data-level="8.4" data-path="data-import.html"><a href="data-import.html#databases"><i class="fa fa-check"></i><b>8.4</b> Databases</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>9</b> Strings</a><ul>
<li class="chapter" data-level="9.1" data-path="strings.html"><a href="strings.html#string-basics"><i class="fa fa-check"></i><b>9.1</b> String Basics</a><ul>
<li class="chapter" data-level="9.1.1" data-path="strings.html"><a href="strings.html#helpful-basic-string-functions"><i class="fa fa-check"></i><b>9.1.1</b> Helpful Basic String functions</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="strings.html"><a href="strings.html#regular-expressions"><i class="fa fa-check"></i><b>9.2</b> Regular Expressions</a><ul>
<li class="chapter" data-level="9.2.1" data-path="strings.html"><a href="strings.html#basic-matches"><i class="fa fa-check"></i><b>9.2.1</b> Basic Matches</a></li>
<li class="chapter" data-level="9.2.2" data-path="strings.html"><a href="strings.html#special-characters"><i class="fa fa-check"></i><b>9.2.2</b> Special Characters</a></li>
<li class="chapter" data-level="9.2.3" data-path="strings.html"><a href="strings.html#character-classes-and-alternatives"><i class="fa fa-check"></i><b>9.2.3</b> Character classes and alternatives</a></li>
<li class="chapter" data-level="9.2.4" data-path="strings.html"><a href="strings.html#repetition"><i class="fa fa-check"></i><b>9.2.4</b> Repetition</a></li>
<li class="chapter" data-level="9.2.5" data-path="strings.html"><a href="strings.html#grouping"><i class="fa fa-check"></i><b>9.2.5</b> Grouping</a></li>
<li class="chapter" data-level="9.2.6" data-path="strings.html"><a href="strings.html#helpful-basic-string-functions-1"><i class="fa fa-check"></i><b>9.2.6</b> Helpful Basic String functions</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="strings.html"><a href="strings.html#tools"><i class="fa fa-check"></i><b>9.3</b> Tools</a><ul>
<li class="chapter" data-level="9.3.1" data-path="strings.html"><a href="strings.html#detect-matches"><i class="fa fa-check"></i><b>9.3.1</b> Detect Matches</a></li>
<li class="chapter" data-level="9.3.2" data-path="strings.html"><a href="strings.html#extract-matches"><i class="fa fa-check"></i><b>9.3.2</b> Extract Matches</a></li>
<li class="chapter" data-level="9.3.3" data-path="strings.html"><a href="strings.html#replaceing-matches"><i class="fa fa-check"></i><b>9.3.3</b> Replaceing Matches</a></li>
<li class="chapter" data-level="9.3.4" data-path="strings.html"><a href="strings.html#splitting"><i class="fa fa-check"></i><b>9.3.4</b> Splitting</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Project</b></span></li>
<li class="chapter" data-level="10" data-path="streetrx.html"><a href="streetrx.html"><i class="fa fa-check"></i><b>10</b> StreetRX</a><ul>
<li class="chapter" data-level="10.1" data-path="streetrx.html"><a href="streetrx.html#data-wrangling"><i class="fa fa-check"></i><b>10.1</b> Data Wrangling</a></li>
<li class="chapter" data-level="10.2" data-path="streetrx.html"><a href="streetrx.html#functions"><i class="fa fa-check"></i><b>10.2</b> Functions</a></li>
<li class="chapter" data-level="10.3" data-path="streetrx.html"><a href="streetrx.html#manual-fixes"><i class="fa fa-check"></i><b>10.3</b> Manual Fixes</a></li>
</ul></li>
<li class="part"><span><b>V Appendix</b></span></li>
<li class="chapter" data-level="11" data-path="appendix-resources.html"><a href="appendix-resources.html"><i class="fa fa-check"></i><b>11</b> Appendix A</a><ul>
<li class="chapter" data-level="11.1" data-path="appendix-resources.html"><a href="appendix-resources.html#e-books"><i class="fa fa-check"></i><b>11.1</b> E-Books</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Modern R in a Corporate Environment</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="strings" class="section level1">
<h1><span class="header-section-number">9</span> Strings</h1>
<p>This section covers basic string manipulation in R. See Chapter 11 in <a href="http://r4ds.had.co.nz/strings.html">R for Data Science</a> for a more complete coverage. The first part of this chapter will probably look familiar, but the rest will focus on <strong>regular expressions</strong>. Regular expressions (sometimes referred to as <strong>regex</strong> or <strong>regexp</strong>) are a concise language for describing patterns in strings.</p>
<p>While base R has some string functions they tend to be inconsistent in the order of the parameters, which makes them hard to remember and you end up needing the help files. As with most of this course we will focus on the Tidyverse, and in particular the <strong>stringr</strong> package, which in not part of the core tidyverse package so you will have to load it explicitly with <code>library(stringr)</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(stringr)</code></pre></div>
<div id="string-basics" class="section level2">
<h2><span class="header-section-number">9.1</span> String Basics</h2>
<p>As with most languages you create a string by putting the text in single or double quotes <code>x &lt;- &quot;This is my string!&quot;</code>, and you can create a vector of strings with <code>c()</code>. There are a handful of special characters but the most common are the newline character <code>&quot;\n&quot;</code>, and the tab character <code>&quot;\t&quot;</code>. You may also see strings like <code>\u00AE</code> or <code>\u00b5</code> which is a way of including non-English characters or special symbols that work on all platforms. These are typically known as Unicode characters.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> &quot;This my registered\u00AE drug&quot;</span>
x
<span class="co">#&gt; [1] &quot;This my registered® drug&quot;</span></code></pre></div>
<p>One nice feature of the stringr package is all string functions begin with <code>str_</code>. This makes it easy in RStudio to find useful string processing functions.</p>

<div class="rmdtip">
See the tidyverse package <strong>glue</strong> which can glue strings to data in R. Small, fast, dependency free interpreted string literals.
</div>

<div id="helpful-basic-string-functions" class="section level3">
<h3><span class="header-section-number">9.1.1</span> Helpful Basic String functions</h3>
<ul>
<li><code>str_to_upper()</code> converts the string to all uppercase characters</li>
<li><code>str_to_lower()</code> converts the string to all lowercase characters</li>
<li><code>str_to_title()</code> capitalizes the first character of each word in the string</li>
<li><code>str_c()</code> joins multiple strings together into a single string (similar to <code>paste</code> or `paste0 from base R)</li>
<li><code>str_length()</code> the length of a string</li>
<li><code>str_wrap()</code> wrap strings into nicely formatted paragraphs</li>
<li><code>str_trim()</code> trim white space from a string</li>
<li><code>str_pad()</code> pad a string</li>
<li><code>str_order()</code> order a character vector</li>
<li><code>str_sort()</code> sort a character vector</li>
<li><code>str_sub()</code> extract and replace substrings from a character vector</li>
</ul>
<div class="rmdcaution">
<p>
While <code>str_c</code> looks and acts very similar to the base R functions <code>paste</code> or <code>paste0</code>, they act very differently with regards to missing data. <code>paste</code> and <code>paste0</code> replace missing values with the text “NA”, while <code>str_c</code> propagates the missing value.
</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_c</span>(<span class="st">&quot;This&quot;</span>, <span class="st">&quot;is&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;string&quot;</span>, <span class="ot">NA</span>, <span class="st">&quot;with&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;missing&quot;</span>, <span class="st">&quot;value&quot;</span>)
<span class="co">#&gt; [1] NA</span>
<span class="kw">paste</span>(<span class="st">&quot;This&quot;</span>, <span class="st">&quot;is&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;string&quot;</span>, <span class="ot">NA</span>, <span class="st">&quot;with&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;missing&quot;</span>, <span class="st">&quot;value&quot;</span>)
<span class="co">#&gt; [1] &quot;This is a string NA with a missing value&quot;</span></code></pre></div>
<p>Notice <code>str_c</code> and <code>paste</code> have both a <code>sep</code> and <code>collapse</code> argument. While these appear to be the same they are not. The <code>sep</code> argument is the string inserted between arguments to <code>str_c</code>, while <code>collapse</code> is the string used to separate any elements of the character vector into a character vector of length one.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;This&quot;</span>, <span class="st">&quot;is&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;character&quot;</span>, <span class="st">&quot;vector&quot;</span>)
x
<span class="co">#&gt; [1] &quot;This&quot;      &quot;is&quot;        &quot;a&quot;         &quot;character&quot; &quot;vector&quot;</span>
<span class="kw">str_c</span>(<span class="st">&quot;This&quot;</span>, <span class="st">&quot;is&quot;</span>, <span class="st">&quot;not&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;character&quot;</span>, <span class="st">&quot;vector&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;_&quot;</span>)
<span class="co">#&gt; [1] &quot;This_is_not_a_character_vector&quot;</span>
<span class="kw">str_c</span>(x, <span class="dt">sep =</span> <span class="st">&quot;_&quot;</span>)
<span class="co">#&gt; [1] &quot;This&quot;      &quot;is&quot;        &quot;a&quot;         &quot;character&quot; &quot;vector&quot;</span>
<span class="kw">str_c</span>(x, <span class="dt">collapse =</span> <span class="st">&quot;_&quot;</span>)
<span class="co">#&gt; [1] &quot;This_is_a_character_vector&quot;</span></code></pre></div>
</div>
</div>
<div id="regular-expressions" class="section level2">
<h2><span class="header-section-number">9.2</span> Regular Expressions</h2>
<p>A regular expression (regex or regexp for short) is a special text string for describing a search pattern. Usually this pattern is then used by string searching algorithms for “find” or “find and replace” operations on strings. Patterns can be a bit tricky to wrap your head around at first since the most common case is simply looking for a sequence of letters. Patterns are much more general. Think about how would you tell a computer to look for any phone number or any email address.</p>
<div class="rmdnote">
<p>
Just about every modern programming language has the ability to use regular expressions. In SAS regular expressions are implemented in the PRX series of functions such as: PRXMATCH, PRXSEARCH, PRXPARSE, PRXCHANGE.
</p>
</div>
<p>Regexps are a very terse language that allow you to describe patterns in strings. They take a little while to get your head around, but once you understand them, you’ll find them extremely useful. Any non-trivial regular expression looks likes a cat walked across your keyboard.</p>

<div class="rmdtip">
To learn regular expressions, use <code>str_view()</code> and <code>str_view_all()</code>. These functions take a character vector and a regular expression, and show you how they match.
</div>

<div id="basic-matches" class="section level3">
<h3><span class="header-section-number">9.2.1</span> Basic Matches</h3>
<p>We’ll start with very simple regular expressions and then gradually get more and more complicated. Once you’ve mastered pattern matching, you’ll learn how to apply those ideas with various stringr functions.We’ll use the buit in fruit dataset.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fruit
<span class="co">#&gt;  [1] &quot;apple&quot;             &quot;apricot&quot;           &quot;avocado&quot;          </span>
<span class="co">#&gt;  [4] &quot;banana&quot;            &quot;bell pepper&quot;       &quot;bilberry&quot;         </span>
<span class="co">#&gt;  [7] &quot;blackberry&quot;        &quot;blackcurrant&quot;      &quot;blood orange&quot;     </span>
<span class="co">#&gt; [10] &quot;blueberry&quot;         &quot;boysenberry&quot;       &quot;breadfruit&quot;       </span>
<span class="co">#&gt; [13] &quot;canary melon&quot;      &quot;cantaloupe&quot;        &quot;cherimoya&quot;        </span>
<span class="co">#&gt; [16] &quot;cherry&quot;            &quot;chili pepper&quot;      &quot;clementine&quot;       </span>
<span class="co">#&gt; [19] &quot;cloudberry&quot;        &quot;coconut&quot;           &quot;cranberry&quot;        </span>
<span class="co">#&gt; [22] &quot;cucumber&quot;          &quot;currant&quot;           &quot;damson&quot;           </span>
<span class="co">#&gt; [25] &quot;date&quot;              &quot;dragonfruit&quot;       &quot;durian&quot;           </span>
<span class="co">#&gt; [28] &quot;eggplant&quot;          &quot;elderberry&quot;        &quot;feijoa&quot;           </span>
<span class="co">#&gt; [31] &quot;fig&quot;               &quot;goji berry&quot;        &quot;gooseberry&quot;       </span>
<span class="co">#&gt; [34] &quot;grape&quot;             &quot;grapefruit&quot;        &quot;guava&quot;            </span>
<span class="co">#&gt; [37] &quot;honeydew&quot;          &quot;huckleberry&quot;       &quot;jackfruit&quot;        </span>
<span class="co">#&gt; [40] &quot;jambul&quot;            &quot;jujube&quot;            &quot;kiwi fruit&quot;       </span>
<span class="co">#&gt; [43] &quot;kumquat&quot;           &quot;lemon&quot;             &quot;lime&quot;             </span>
<span class="co">#&gt; [46] &quot;loquat&quot;            &quot;lychee&quot;            &quot;mandarine&quot;        </span>
<span class="co">#&gt; [49] &quot;mango&quot;             &quot;mulberry&quot;          &quot;nectarine&quot;        </span>
<span class="co">#&gt; [52] &quot;nut&quot;               &quot;olive&quot;             &quot;orange&quot;           </span>
<span class="co">#&gt; [55] &quot;pamelo&quot;            &quot;papaya&quot;            &quot;passionfruit&quot;     </span>
<span class="co">#&gt; [58] &quot;peach&quot;             &quot;pear&quot;              &quot;persimmon&quot;        </span>
<span class="co">#&gt; [61] &quot;physalis&quot;          &quot;pineapple&quot;         &quot;plum&quot;             </span>
<span class="co">#&gt; [64] &quot;pomegranate&quot;       &quot;pomelo&quot;            &quot;purple mangosteen&quot;</span>
<span class="co">#&gt; [67] &quot;quince&quot;            &quot;raisin&quot;            &quot;rambutan&quot;         </span>
<span class="co">#&gt; [70] &quot;raspberry&quot;         &quot;redcurrant&quot;        &quot;rock melon&quot;       </span>
<span class="co">#&gt; [73] &quot;salal berry&quot;       &quot;satsuma&quot;           &quot;star fruit&quot;       </span>
<span class="co">#&gt; [76] &quot;strawberry&quot;        &quot;tamarillo&quot;         &quot;tangerine&quot;        </span>
<span class="co">#&gt; [79] &quot;ugli fruit&quot;        &quot;watermelon&quot;</span></code></pre></div>
<p>One of the most common uses of regular expressions is to find strings that contain an exact sequence of letters.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_subset</span>(fruit, <span class="st">&quot;berry&quot;</span>)
<span class="co">#&gt;  [1] &quot;bilberry&quot;    &quot;blackberry&quot;  &quot;blueberry&quot;   &quot;boysenberry&quot; &quot;cloudberry&quot; </span>
<span class="co">#&gt;  [6] &quot;cranberry&quot;   &quot;elderberry&quot;  &quot;goji berry&quot;  &quot;gooseberry&quot;  &quot;huckleberry&quot;</span>
<span class="co">#&gt; [11] &quot;mulberry&quot;    &quot;raspberry&quot;   &quot;salal berry&quot; &quot;strawberry&quot;</span></code></pre></div>
<p>This works great for quite a few cases, but what if you wanted to find just “grape” and not “grapefruit”?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_subset</span>(fruit, <span class="st">&quot;grape&quot;</span>)
<span class="co">#&gt; [1] &quot;grape&quot;      &quot;grapefruit&quot;</span></code></pre></div>
</div>
<div id="special-characters" class="section level3">
<h3><span class="header-section-number">9.2.2</span> Special Characters</h3>
<p>Once you get beyond basic substring matching you need some helpers. Below is a list of common helpers.</p>
<ul>
<li><code>.</code> match any character (excpet a newline)</li>
<li><code>^</code> match the start of the string</li>
<li><code>$</code> match the end of the string</li>
</ul>
<p>So to match “grape” but not “grapefruit” you could do this is a couple ways.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_subset</span>(fruit, <span class="st">&quot;grape$&quot;</span>)   <span class="co"># match all words that end in &quot;grape&quot;</span>
<span class="co">#&gt; [1] &quot;grape&quot;</span>
<span class="kw">str_subset</span>(fruit, <span class="st">&quot;^grape$&quot;</span>)  <span class="co"># match all words the start AND end in &quot;grape&quot;</span>
<span class="co">#&gt; [1] &quot;grape&quot;</span></code></pre></div>
<p>Find the fruits that have an “a” in them but not ones that have the only “a” as the starting chracter.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_subset</span>(fruit, <span class="st">&quot;.a&quot;</span>)
<span class="co">#&gt;  [1] &quot;avocado&quot;           &quot;banana&quot;            &quot;blackberry&quot;       </span>
<span class="co">#&gt;  [4] &quot;blackcurrant&quot;      &quot;blood orange&quot;      &quot;breadfruit&quot;       </span>
<span class="co">#&gt;  [7] &quot;canary melon&quot;      &quot;cantaloupe&quot;        &quot;cherimoya&quot;        </span>
<span class="co">#&gt; [10] &quot;cranberry&quot;         &quot;currant&quot;           &quot;damson&quot;           </span>
<span class="co">#&gt; [13] &quot;date&quot;              &quot;dragonfruit&quot;       &quot;durian&quot;           </span>
<span class="co">#&gt; [16] &quot;eggplant&quot;          &quot;feijoa&quot;            &quot;grape&quot;            </span>
<span class="co">#&gt; [19] &quot;grapefruit&quot;        &quot;guava&quot;             &quot;jackfruit&quot;        </span>
<span class="co">#&gt; [22] &quot;jambul&quot;            &quot;kumquat&quot;           &quot;loquat&quot;           </span>
<span class="co">#&gt; [25] &quot;mandarine&quot;         &quot;mango&quot;             &quot;nectarine&quot;        </span>
<span class="co">#&gt; [28] &quot;orange&quot;            &quot;pamelo&quot;            &quot;papaya&quot;           </span>
<span class="co">#&gt; [31] &quot;passionfruit&quot;      &quot;peach&quot;             &quot;pear&quot;             </span>
<span class="co">#&gt; [34] &quot;physalis&quot;          &quot;pineapple&quot;         &quot;pomegranate&quot;      </span>
<span class="co">#&gt; [37] &quot;purple mangosteen&quot; &quot;raisin&quot;            &quot;rambutan&quot;         </span>
<span class="co">#&gt; [40] &quot;raspberry&quot;         &quot;redcurrant&quot;        &quot;salal berry&quot;      </span>
<span class="co">#&gt; [43] &quot;satsuma&quot;           &quot;star fruit&quot;        &quot;strawberry&quot;       </span>
<span class="co">#&gt; [46] &quot;tamarillo&quot;         &quot;tangerine&quot;         &quot;watermelon&quot;</span></code></pre></div>
<p>If “<code>.</code>” matches any character, how do you match the character “<code>.</code>”?</p>
<p>You need to use an “escape” to tell the regular expression you want to match it exactly, not use its special behaviour. Like strings, regexps use the backslash, <code>\</code>, to escape special behaviour. So to match an <code>.</code>, you need the regexp <code>\.</code>. Unfortunately this creates a problem. We use strings to represent regular expressions, and <code>\</code> is also used as an escape symbol in strings. So to create the regular expression <code>\.</code> we need the string <code>&quot;\\.&quot;</code>.</p>
<p>If <code>\</code> is used as an escape character in regular expressions, how do you match a literal <code>\</code>? Well you need to escape it, creating the regular expression <code>\\</code>. To create that regular expression, you need to use a string, which also needs to escape <code>\</code>. That means to match a literal <code>\</code> you need to write <code>&quot;\\\\&quot;</code> — you need four backslashes to match one!</p>
</div>
<div id="character-classes-and-alternatives" class="section level3">
<h3><span class="header-section-number">9.2.3</span> Character classes and alternatives</h3>
<p>There are a number of special patterns that match more than one character. You’ve already seen <code>.</code>, which matches any character apart from a newline. There are many other useful tools:</p>
<ul>
<li><code>\d</code> match any digit</li>
<li>[:digits] match any digit</li>
<li><code>\D</code> match any non digit</li>
<li><code>[:alpha:]</code> match any letter</li>
<li><code>[:lower:]</code> match any lowercase letter</li>
<li><code>[:upper:]</code> match any uppercase leter</li>
<li><code>[:alnum:]</code> match any alpha numeric character.</li>
<li><code>[:punct:]</code> match any punctuation (see cheatsheet)</li>
<li><code>|</code> or (ex <code>ad|e</code> matches “ad” or “e”)</li>
<li><code>[]</code> matches on of (ex <code>[ade]</code> matches “a”, “d” or “e”, equivalent to `a|d|e)</li>
<li><code>[^]</code> match anything but (ex <code>[^ade]</code> matches everyting but “a”, “d” or “e”)</li>
<li><code>[-]</code> match a range (ex <code>[0-5]</code> matches nmberes between 0 and 5 inclusive)</li>
</ul>

<div class="rmdimportant">
Remember, to create a regular expression containing <code>\d</code>, you need to escape the <code>\</code> for the string, so you type <code>&quot;\\d&quot;</code>.
</div>

</div>
<div id="repetition" class="section level3">
<h3><span class="header-section-number">9.2.4</span> Repetition</h3>
<ul>
<li><code>?</code> match zero or 1</li>
<li><code>*</code> match zero or more</li>
<li><code>+</code> match one or more</li>
<li><code>{n}</code>: exactly n</li>
<li><code>{n,}</code>: n or more</li>
<li><code>{,m}</code>: at most m</li>
<li><code>{n,m}</code>: between n and m</li>
</ul>
</div>
<div id="grouping" class="section level3">
<h3><span class="header-section-number">9.2.5</span> Grouping</h3>
<p>Find everything that is not a “berry”</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_subset</span>(fruit, <span class="st">&quot;[^(berry)]&quot;</span>)
<span class="co">#&gt;  [1] &quot;apple&quot;             &quot;apricot&quot;           &quot;avocado&quot;          </span>
<span class="co">#&gt;  [4] &quot;banana&quot;            &quot;bell pepper&quot;       &quot;bilberry&quot;         </span>
<span class="co">#&gt;  [7] &quot;blackberry&quot;        &quot;blackcurrant&quot;      &quot;blood orange&quot;     </span>
<span class="co">#&gt; [10] &quot;blueberry&quot;         &quot;boysenberry&quot;       &quot;breadfruit&quot;       </span>
<span class="co">#&gt; [13] &quot;canary melon&quot;      &quot;cantaloupe&quot;        &quot;cherimoya&quot;        </span>
<span class="co">#&gt; [16] &quot;cherry&quot;            &quot;chili pepper&quot;      &quot;clementine&quot;       </span>
<span class="co">#&gt; [19] &quot;cloudberry&quot;        &quot;coconut&quot;           &quot;cranberry&quot;        </span>
<span class="co">#&gt; [22] &quot;cucumber&quot;          &quot;currant&quot;           &quot;damson&quot;           </span>
<span class="co">#&gt; [25] &quot;date&quot;              &quot;dragonfruit&quot;       &quot;durian&quot;           </span>
<span class="co">#&gt; [28] &quot;eggplant&quot;          &quot;elderberry&quot;        &quot;feijoa&quot;           </span>
<span class="co">#&gt; [31] &quot;fig&quot;               &quot;goji berry&quot;        &quot;gooseberry&quot;       </span>
<span class="co">#&gt; [34] &quot;grape&quot;             &quot;grapefruit&quot;        &quot;guava&quot;            </span>
<span class="co">#&gt; [37] &quot;honeydew&quot;          &quot;huckleberry&quot;       &quot;jackfruit&quot;        </span>
<span class="co">#&gt; [40] &quot;jambul&quot;            &quot;jujube&quot;            &quot;kiwi fruit&quot;       </span>
<span class="co">#&gt; [43] &quot;kumquat&quot;           &quot;lemon&quot;             &quot;lime&quot;             </span>
<span class="co">#&gt; [46] &quot;loquat&quot;            &quot;lychee&quot;            &quot;mandarine&quot;        </span>
<span class="co">#&gt; [49] &quot;mango&quot;             &quot;mulberry&quot;          &quot;nectarine&quot;        </span>
<span class="co">#&gt; [52] &quot;nut&quot;               &quot;olive&quot;             &quot;orange&quot;           </span>
<span class="co">#&gt; [55] &quot;pamelo&quot;            &quot;papaya&quot;            &quot;passionfruit&quot;     </span>
<span class="co">#&gt; [58] &quot;peach&quot;             &quot;pear&quot;              &quot;persimmon&quot;        </span>
<span class="co">#&gt; [61] &quot;physalis&quot;          &quot;pineapple&quot;         &quot;plum&quot;             </span>
<span class="co">#&gt; [64] &quot;pomegranate&quot;       &quot;pomelo&quot;            &quot;purple mangosteen&quot;</span>
<span class="co">#&gt; [67] &quot;quince&quot;            &quot;raisin&quot;            &quot;rambutan&quot;         </span>
<span class="co">#&gt; [70] &quot;raspberry&quot;         &quot;redcurrant&quot;        &quot;rock melon&quot;       </span>
<span class="co">#&gt; [73] &quot;salal berry&quot;       &quot;satsuma&quot;           &quot;star fruit&quot;       </span>
<span class="co">#&gt; [76] &quot;strawberry&quot;        &quot;tamarillo&quot;         &quot;tangerine&quot;        </span>
<span class="co">#&gt; [79] &quot;ugli fruit&quot;        &quot;watermelon&quot;</span></code></pre></div>
<p>Find all the fruits with a double letter</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_subset</span>(fruit, <span class="st">&quot;([:alpha:])</span><span class="ch">\\</span><span class="st">1&quot;</span>)
<span class="co">#&gt;  [1] &quot;apple&quot;             &quot;bell pepper&quot;       &quot;bilberry&quot;         </span>
<span class="co">#&gt;  [4] &quot;blackberry&quot;        &quot;blackcurrant&quot;      &quot;blood orange&quot;     </span>
<span class="co">#&gt;  [7] &quot;blueberry&quot;         &quot;boysenberry&quot;       &quot;cherry&quot;           </span>
<span class="co">#&gt; [10] &quot;chili pepper&quot;      &quot;cloudberry&quot;        &quot;cranberry&quot;        </span>
<span class="co">#&gt; [13] &quot;currant&quot;           &quot;eggplant&quot;          &quot;elderberry&quot;       </span>
<span class="co">#&gt; [16] &quot;goji berry&quot;        &quot;gooseberry&quot;        &quot;huckleberry&quot;      </span>
<span class="co">#&gt; [19] &quot;lychee&quot;            &quot;mulberry&quot;          &quot;passionfruit&quot;     </span>
<span class="co">#&gt; [22] &quot;persimmon&quot;         &quot;pineapple&quot;         &quot;purple mangosteen&quot;</span>
<span class="co">#&gt; [25] &quot;raspberry&quot;         &quot;redcurrant&quot;        &quot;salal berry&quot;      </span>
<span class="co">#&gt; [28] &quot;strawberry&quot;        &quot;tamarillo&quot;</span></code></pre></div>
</div>
<div id="helpful-basic-string-functions-1" class="section level3">
<h3><span class="header-section-number">9.2.6</span> Helpful Basic String functions</h3>
<ul>
<li><code>str_view()</code> show the first match of a regular expression</li>
<li><code>str_view_all()</code> show all matches of a regular expression</li>
<li><code>str_subset()</code> keep strings matching a pattern</li>
<li><code>str_which()</code> find the postions of strings matching a pattern (similar to base R <code>grep()</code>)</li>
<li><code>str_detect()</code> detect the presence of strings matching a pattern (similar to base R <code>grepl()</code>)</li>
</ul>
</div>
</div>
<div id="tools" class="section level2">
<h2><span class="header-section-number">9.3</span> Tools</h2>
<div id="detect-matches" class="section level3">
<h3><span class="header-section-number">9.3.1</span> Detect Matches</h3>
<ul>
<li><code>str_count()</code></li>
</ul>
</div>
<div id="extract-matches" class="section level3">
<h3><span class="header-section-number">9.3.2</span> Extract Matches</h3>
<ul>
<li><code>str_subset()</code></li>
<li><code>str_extract()</code></li>
</ul>
</div>
<div id="replaceing-matches" class="section level3">
<h3><span class="header-section-number">9.3.3</span> Replaceing Matches</h3>
</div>
<div id="splitting" class="section level3">
<h3><span class="header-section-number">9.3.4</span> Splitting</h3>

</div>
</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="data-import.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="streetrx.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/DavisBrian/corporater/edit/master/strings.Rmd",
"text": "Edit"
},
"download": ["rclassnotes.pdf", "rclassnotes.epub"],
"toc": {
"collapse": "section"
},
"css": "corp.css"
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
