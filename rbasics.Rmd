# R Basics

```{r, include=FALSE}
WORDS_TO_IGNORE <- "butitsuremakesthingseasiertoread"
source("knitr-options.R")
# source("spelling-check.R")
```

With over 10,000 packages on CRAN we can't cover everything.  In general there are several ways, or packages, to accomplish a given task.

Here is  a quick look at some of the basics.  Next we'll dive deep into R's basic data structures and how to subset them in subsequent chapters.  This will give us a good overview of base R and the background needed to dive into __R for Data Science__.

The three most important functions in R `?`, `??`, and `str`:

*  `?<topic>` provides access to the documentation for \<topic\>.
*  `??<topic>` searches the documention for \<topic\>.
*  `str` displays the structure of an R object in human readable form.

See this [vocabulary list](http://adv-r.had.co.nz/Vocabulary.html) for a good starting point on the basics functions in base R and some important libraries.  

In R there three basic constructs; objects, functions, and environments:

## Assignment

We saw this is Coding Style. Use `<-` for assignment and use `=` for parameters.  While you can use `=` for assignment it is generally considered bad practice.

## Objects

### Vector

You create a vector with `c`.

```{r}
v <- c("my", "first", "vector")
v

# length of our vector
length(v)
```

There are several shortcut functions for common vector creation.
```{r}
# create an ordered sequence
2:10
9:3

# common mistake using 1:length(n) in loops
# but if n = 0
1:0

# use seq_len(n) instead and the loop won't execute
seq_len(0)

# another common mistake
n<-6
1:n+1        # is (1:n) + 1, so 2:(n + 1)
1:(n+1)      # usually what is meant
seq_len(n+1) # another way
```

### Matrix

Matrices are 2D vectors, with all elements of the same type.  Genearlly used for mathematics.

```{r}
# fill in column order (default)
matrix(1:12, nrow = 3)

# fill in row order
matrix(1:12, nrow = 3, byrow = TRUE)

# can also specify the number of columns instead
matrix(1:12, ncol = 3)
```

You find the dimensions of a matrix with `nrow`, `ncol`, and `dim`

```{r}
m <- matrix(1:12, ncol = 3)
dim(m)
nrow(m)
ncol(m)
```

### List

A list is a generic vector containing other objects.  These do __NOT__ have to be the same type or the same length.

```{r}
s <- c("aa", "bb", "cc", "dd", "ee") 
b <- c(TRUE, FALSE, TRUE, FALSE, FALSE) 
# x contains copies of n, s, b and our matrix from above
x <- list(n = c(2, 3, 5) , s, b, 3, m)   
x

# length gives you length of the list not the elements in the list
length(x)
```

We'll discuss lists in detail in the next chapter.

### Data frame

A data frame is a list with each vector of the same length.  This is the main data structure used and is analagous to a data set in SAS.  While these __look__ like matrices they behave very different.

```{r}
df = data.frame(n = c(2, 3, 5),
                s = c("aa", "bb", "cc") ,
                b = c(TRUE, FALSE, TRUE),
                y = v
                )       # df is a data frame 
df

# dimensions
dim(df)
nrow(df)
ncol(df)
length(df)
```

We'll discuss data frames in great detail in the next chapter.

## Comparision 

Logical Operators include:

| Operator |	Description             |
|----------|--------------------------|
| > 	     | greater than             |
| >= 	     | greater than or equal to |
| < 	     | less than                |
| <= 	     | less than or equal to    |
| == 	     | exactly equal to         |
| != 	     | not equal to             |

```{r}
v <- 1:12
v[v > 9]
```

Equality can be tricky to test for since real numbers can't be expressed exactly in computers.

```{r}
x <- sqrt(2)
(y <- x^2)
y == 2
print(y, digits = 20)
all.equal(y, 2)          ## equality with some tolerance
all.equal(y, 3)
isTRUE(all.equal(y, 3))  ## if you want a boolean, use isTRUE()
```

## Logical and sets

```{r}
x <- c(TRUE, FALSE)
df <- data.frame(expand.grid(x, x))
names(df) <- c("x", "y")
df$and  <- df$x & df$y     # logical and
df$or   <- df$x | df$y     # logical or
df$notx <- !df$x           # negation
df$xor  <- xor(df$x, df$y) # exlusive or
df
```

R has two versions of a logical and (or) `&` and `&&` (`|` and `||`).  The single version is the vectorized version while the the double version returns a length-one vector.  Use the double version in logical control structures (if, for, while, etc).

```{r}
# TRUE/FALSE and each element
TRUE & c(TRUE, FALSE)
FALSE & c(TRUE, FALSE)
# TRUE/FALSE and first element
TRUE && c(TRUE, FALSE)
FALSE && c(TRUE, FALSE)
# TRUE/FALSE or each element
TRUE | c(TRUE, FALSE)
FALSE | c(TRUE, FALSE)
# TRUE/FALSE or first element
TRUE || c(TRUE, FALSE)
FALSE || c(TRUE, FALSE)
```

It also has useful helpers `any` and `all`

```{r}
x <- c(FALSE, FALSE, FALSE, TRUE)
any(x)
all(x)
all(!x[1:3])
```

And also some useful set operations intersect, union, setdiff, setequal

```{r}
x <- 1:5
y <- 3:7

intersect(x, y)
union(x, y)
setdiff(x, y)
setdiff(y, x)
setequal(x, y)
z <- 5:1
setequal(x, z)
```


## Vectorization & Recycling



## Basic Looping

### For

### Apply

### Others

## Function Basics

## Environments & Scoping

## Assignment

1. Browse this [vocabulary list](http://adv-r.had.co.nz/Vocabulary.html) and read the help file for functions that interest you.
2. ddd




